# Liquid Glass Prism Gateway

è‡ªæ‰˜ç®¡ DNS ç½‘å…³ï¼Œæ”¯æŒæ™ºèƒ½æµåª’ä½“è§£é”å’Œ AI æœåŠ¡è§£é”æ£€æµ‹ã€‚é‡‡ç”¨ Liquid Glass é£æ ¼ UIã€‚

[English](README_EN.md) | ä¸­æ–‡

## ğŸŒ å¿«é€Ÿä½“éªŒ

**åœ¨çº¿æ¼”ç¤º**: [https://prism.ciii.club](https://prism.ciii.club)

> æ— éœ€å®‰è£…ï¼Œç›´æ¥ä½“éªŒå®Œæ•´åŠŸèƒ½

## åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

- **æ™ºèƒ½ DNS è·¯ç”±** - æ ¹æ®åŸŸåè§„åˆ™å°†æµé‡è·¯ç”±åˆ°ä¸åŒ Proxy Agent
- **å¤–éƒ¨è§„åˆ™é›†æ”¯æŒ** - æ”¯æŒå¯¼å…¥å¤–éƒ¨è§„åˆ™é›†æ–‡ä»¶ï¼Œå¿«é€Ÿé…ç½®å¸¸ç”¨æœåŠ¡
- **æµåª’ä½“è§£é”æ£€æµ‹** - è‡ªåŠ¨æ£€æµ‹ Netflixã€Disney+ã€HBO Max ç­‰ 20+ æœåŠ¡çš„è§£é”çŠ¶æ€
- **AI æœåŠ¡è§£é”æ£€æµ‹** - è‡ªåŠ¨æ£€æµ‹ OpenAIã€Claudeã€Geminiã€Copilot ç­‰ AI æœåŠ¡çš„å¯ç”¨çŠ¶æ€
- **åŒæ ˆ IPv4/IPv6** - å®Œæ•´æ”¯æŒåŒåè®®
- **å®æ—¶ç›‘æ§** - åŸºäº SSE çš„èŠ‚ç‚¹çŠ¶æ€å®æ—¶æ›´æ–°
- **ç°ä»£ UI** - Liquid Glass è®¾è®¡é£æ ¼ï¼Œæ”¯æŒæ·±è‰²æ¨¡å¼

### æ™ºèƒ½æ¨¡å¼ (Smart Mode)

æ™ºèƒ½æ¨¡å¼æ˜¯æœ¬é¡¹ç›®çš„æ ¸å¿ƒç‰¹æ€§ï¼Œå¯æ ¹æ®èŠ‚ç‚¹çš„è§£é”çŠ¶æ€è‡ªåŠ¨é€‰æ‹©æœ€ä½³ä»£ç†ï¼š

| æ¨¡å¼ | è¯´æ˜ |
|------|------|
| **Smart** | æ™ºèƒ½é€‰æ‹© - è‡ªåŠ¨é€‰æ‹©è§£é”çŠ¶æ€æœ€ä½³çš„èŠ‚ç‚¹ |
| **Fallback** | æ•…éšœè½¬ç§» - æŒ‰ä¼˜å…ˆçº§é¡ºåºå°è¯•ï¼Œå½“å‰èŠ‚ç‚¹å¤±è´¥æ—¶è‡ªåŠ¨åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ª |
| **Group** | è´Ÿè½½å‡è¡¡ - åœ¨ä¸€ç»„èŠ‚ç‚¹ä¸­éšæœºé€‰æ‹© |

### ä¼˜å…ˆçº§æœºåˆ¶

æ¯ä¸ªè§„åˆ™å¯ä»¥é…ç½®å¤šä¸ª Proxy Agentï¼ŒæŒ‰ä¼˜å…ˆçº§æ’åºï¼š

```
ä¼˜å…ˆçº§ 1 (æœ€é«˜) â†’ ä¼˜å…ˆçº§ 2 â†’ ä¼˜å…ˆçº§ 3 â†’ ... â†’ ä¼˜å…ˆçº§ N (æœ€ä½)
```

- **Smart æ¨¡å¼**: åœ¨æ‰€æœ‰èŠ‚ç‚¹ä¸­é€‰æ‹©è§£é”çŠ¶æ€æœ€ä½³çš„
- **Fallback æ¨¡å¼**: ä¼˜å…ˆä½¿ç”¨é«˜ä¼˜å…ˆçº§èŠ‚ç‚¹ï¼Œå¤±è´¥æ—¶é™çº§
- **Group æ¨¡å¼**: åœ¨åŒä¼˜å…ˆçº§èŠ‚ç‚¹ä¸­è´Ÿè½½å‡è¡¡

### è§£é”æ£€æµ‹

è‡ªåŠ¨æ£€æµ‹ä»¥ä¸‹æœåŠ¡çš„è§£é”çŠ¶æ€ï¼š

**æµåª’ä½“æœåŠ¡**
- Netflix, Disney+, HBO Max, Amazon Prime Video
- Hulu, Paramount+, Peacock, Discovery+
- YouTube Premium, Spotify, Apple TV+
- BBC iPlayer, ITV, Channel 4, Channel 5
- ä»¥åŠæ›´å¤š...

**AI æœåŠ¡**
- OpenAI (ChatGPT)
- Anthropic (Claude)
- Google (Gemini)
- GitHub Copilot
- ä»¥åŠæ›´å¤š...

## å®‰è£…

### ä¸€é”®å®‰è£… (æ¨è)

```bash
wget -O install.sh https://raw.githubusercontent.com/mslxi/Liquid-Glass-Prism-dns/main/install.sh && sudo bash install.sh
```

è„šæœ¬æä¾›ä»¥ä¸‹é€‰é¡¹ï¼š
- **1. å®‰è£…** - é¦–æ¬¡å®‰è£…ï¼Œå®Œæˆåæ˜¾ç¤ºç™»å½•å¯†ç 
- **2. å‡çº§** - å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œä¿ç•™é…ç½®
- **3. å¸è½½** - å®Œå…¨å¸è½½å¹¶æ¸…ç†æ•°æ®

å®‰è£…å®Œæˆåï¼š
- Web ç•Œé¢ï¼š`http://ä½ çš„IP:ç«¯å£`
- ç”¨æˆ·åï¼š`admin`
- å¯†ç ï¼šå®‰è£…å®Œæˆæ—¶æ˜¾ç¤º

### æ‰‹åŠ¨å®‰è£…

ä» [Releases](https://github.com/mslxi/Liquid-Glass-Prism-dns/releases) ä¸‹è½½å¯¹åº”å¹³å°çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚

```bash
# ä¸‹è½½
wget https://github.com/mslxi/Liquid-Glass-Prism-dns/releases/latest/download/prism-controller-linux-amd64
chmod +x prism-controller-linux-amd64
mkdir -p /opt/prism
mv prism-controller-linux-amd64 /opt/prism/prism-controller

# åˆ›å»ºç¯å¢ƒæ–‡ä»¶
echo "JWT_SECRET=$(openssl rand -hex 16)" > /opt/prism/.env

# è¿è¡Œ
cd /opt/prism && ./prism-controller --host 0.0.0.0 --port 8080
```

## Agent å®‰è£…

åœ¨ Proxy èŠ‚ç‚¹ä¸Šå®‰è£… Agentï¼š

```bash
curl -sL https://raw.githubusercontent.com/mslxi/Liquid-Glass-Prism-dns/main/agent_install.sh | bash -s -- --master <Controlleråœ°å€> --secret <èŠ‚ç‚¹å¯†é’¥>
```

**å‚æ•°è¯´æ˜**:
- `--master`: Controller çš„åœ°å€ï¼Œä¾‹å¦‚ `http://192.168.1.1:8080`
- `--secret`: åœ¨ Controller ä¸­åˆ›å»ºèŠ‚ç‚¹æ—¶ç”Ÿæˆçš„å¯†é’¥
- `--smart`: å¯ç”¨æ™ºèƒ½æ¨¡å¼ï¼ˆå¯é€‰ï¼‰
- `--beta`: ä½¿ç”¨ Beta ç‰ˆæœ¬ï¼ˆå¯é€‰ï¼‰

## æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Controller                            â”‚
â”‚         (Web UI + API + è§„åˆ™å¼•æ“ + è§£é”æ£€æµ‹)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ ä¸‹å‘è§„åˆ™ / çŠ¶æ€ä¸ŠæŠ¥
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â–¼               â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DNS Client  â”‚   â”‚ Proxy Agent â”‚   â”‚ Proxy Agent â”‚
â”‚  (è¾¹ç¼˜èŠ‚ç‚¹)  â”‚   â”‚  (ç¾å›½èŠ‚ç‚¹)  â”‚   â”‚  (æ—¥æœ¬èŠ‚ç‚¹)  â”‚
â”‚  æ¥æ”¶DNSæŸ¥è¯¢ â”‚   â”‚  è§£é”Netflix â”‚   â”‚  è§£é”DMM    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

| ç»„ä»¶ | æè¿° |
|------|------|
| **Controller** | ä¸­å¤®æ§åˆ¶å™¨ï¼Œæä¾› Web UIã€APIã€è§„åˆ™å¼•æ“å’Œè§£é”æ£€æµ‹ |
| **DNS Client** | è¾¹ç¼˜èŠ‚ç‚¹ï¼Œæ¥æ”¶ DNS æŸ¥è¯¢ï¼Œæ ¹æ®è§„åˆ™è½¬å‘åˆ°å¯¹åº” Proxy Agent |
| **Proxy Agent** | å‡ºå£èŠ‚ç‚¹ï¼Œè½¬å‘æµé‡åˆ°ç›®æ ‡æœåŠ¡å™¨ï¼Œä¸ŠæŠ¥è§£é”çŠ¶æ€ |

## ä½¿ç”¨æµç¨‹

1. **å®‰è£… Controller** - åœ¨ä¸­å¤®æœåŠ¡å™¨ä¸Šå®‰è£…
2. **åˆ›å»ºèŠ‚ç‚¹** - åœ¨ Web UI ä¸­åˆ›å»º DNS Client å’Œ Proxy Agent èŠ‚ç‚¹
3. **å®‰è£… Agent** - åœ¨å„èŠ‚ç‚¹æœåŠ¡å™¨ä¸Šå®‰è£… Agent
4. **é…ç½®è§„åˆ™** - åˆ›å»º DNS è§„åˆ™ï¼Œé€‰æ‹©è·¯ç”±æ¨¡å¼å’Œç›®æ ‡èŠ‚ç‚¹
5. **å¼€å§‹ä½¿ç”¨** - å°†å®¢æˆ·ç«¯ DNS æŒ‡å‘ DNS Client èŠ‚ç‚¹

## æœåŠ¡ç®¡ç†

```bash
# æŸ¥çœ‹çŠ¶æ€
sudo systemctl status prism-controller

# é‡å¯æœåŠ¡
sudo systemctl restart prism-controller

# æŸ¥çœ‹æ—¥å¿—
journalctl -u prism-controller -f
```

## è®¸å¯è¯

MIT
